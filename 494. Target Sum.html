<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.0.0 (457591)"/><meta name="altitude" content="23.13999938964844"/><meta name="author" content="MOON"/><meta name="created" content="2019-01-23 06:55:25 +0000"/><meta name="latitude" content="35.64349365234375"/><meta name="longitude" content="139.7444915768385"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2019-01-23 07:09:58 +0000"/><meta name="content-class" content="yinxiang.markdown"/><title>494. Target Sum</title></head><body><div style="font-size: 14px; margin: 0; padding: 0; width: 100%;"><p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">Medium,<br/>
Dynamic Programming, DFS.</strong></p>
<hr style="line-height: 160%; box-sizing: content-box; border-top: 1px solid #eee; margin: 16px 0;"/>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">You are given a list of non-negative integers, a1, a2, ..., an, and a target, S. Now you have 2 symbols + and -. For each integer, you should choose one from + and - as its new symbol.</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">Find out how many ways to assign symbols to make sum of integers equal to target S.</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">Example 1:</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">Input: nums is [1, 1, 1, 1, 1], S is 3. 
Output: 5
Explanation: 

-1+1+1+1+1 = 3
+1-1+1+1+1 = 3
+1+1-1+1+1 = 3
+1+1+1-1+1 = 3
+1+1+1+1-1 = 3

There are 5 ways to assign symbols to make the sum of nums be target 3.
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">Note:<br/>
The length of the given array is positive and will not exceed 20.<br/>
The sum of elements in the given array will not exceed 1000.<br/>
Your output answer is guaranteed to be fitted in a 32-bit integer.</p>
<hr style="line-height: 160%; box-sizing: content-box; border-top: 1px solid #eee; margin: 16px 0;"/>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">解法</h4>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">该题是典型的dfs算法题。<br/>
用递归的方式把所有的可能性都遍历一遍。<br/>
最重要的地方是return的判断标准，<br/>
这里是当cur已经到头，恰好sum等于S时加一，<br/>
或者cur已经到头了，但sum不等一S时加0。<br/>
最后把所有累加就是答案。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">Java</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">class</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">Solution</span> </span>{
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">int</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">findTargetSumWays</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">(<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">int</span>[] nums, <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">int</span> S)</span> </span>{
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">if</span>(nums.length==<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>) <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>;
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> dfs(nums,<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,S);
    }
    
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">int</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">dfs</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">(<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">int</span>[] nums,<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">int</span> cur, <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">int</span> sum, <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">int</span> S)</span></span>{
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">int</span> res = <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>;
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">int</span> len = nums.length;
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">if</span>(cur==len &amp;&amp; sum==S) <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>;
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">else</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">if</span>(cur==len) <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>;
        res += dfs(nums,cur+<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>,sum+nums[cur],S);
        res += dfs(nums,cur+<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>,sum-nums[cur],S);
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> res;
    }
}
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">Scala</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">object</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">Solution</span> </span>{
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">def</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">findTargetSumWays</span></span>(nums: <span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">Array</span>[<span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">Int</span>], <span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">S</span>: <span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">Int</span>): <span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">Int</span> = {
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">if</span>(nums.length==<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>) <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>
        dfs(nums,<span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">S</span>,<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>)
    }
    
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">def</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">dfs</span></span>(nums:<span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">Array</span>[<span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">Int</span>],<span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">S</span>:<span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">Int</span>,cur:<span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">Int</span>,sum:<span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">Int</span>):<span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">Int</span>={
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">var</span> len = nums.length
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">var</span> res = <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">if</span>(cur==len &amp;&amp; sum==<span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">S</span>) <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">else</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">if</span>(cur==len) <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>
        res += dfs(nums,<span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">S</span>,cur+<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>,sum+nums(cur))
        res += dfs(nums,<span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">S</span>,cur+<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>,sum-nums(cur))
        res
    }
}
</code></pre>
</div><center style="display:none !important;visibility:collapse !important;height:0 !important;white-space:nowrap;width:100%;overflow:hidden">**Medium%2C%0ADynamic%20Programming%2C%20DFS.**%0A%0A------%0AYou%20are%20given%20a%20list%20of%20non-negative%20integers%2C%20a1%2C%20a2%2C%20...%2C%20an%2C%20and%20a%20target%2C%20S.%20Now%20you%20have%202%20symbols%20%2B%20and%20-.%20For%20each%20integer%2C%20you%20should%20choose%20one%20from%20%2B%20and%20-%20as%20its%20new%20symbol.%0A%0AFind%20out%20how%20many%20ways%20to%20assign%20symbols%20to%20make%20sum%20of%20integers%20equal%20to%20target%20S.%0A%0AExample%201%3A%0A%60%60%60%0AInput%3A%20nums%20is%20%5B1%2C%201%2C%201%2C%201%2C%201%5D%2C%20S%20is%203.%20%0AOutput%3A%205%0AExplanation%3A%20%0A%0A-1%2B1%2B1%2B1%2B1%20%3D%203%0A%2B1-1%2B1%2B1%2B1%20%3D%203%0A%2B1%2B1-1%2B1%2B1%20%3D%203%0A%2B1%2B1%2B1-1%2B1%20%3D%203%0A%2B1%2B1%2B1%2B1-1%20%3D%203%0A%0AThere%20are%205%20ways%20to%20assign%20symbols%20to%20make%20the%20sum%20of%20nums%20be%20target%203.%0A%60%60%60%0ANote%3A%0AThe%20length%20of%20the%20given%20array%20is%20positive%20and%20will%20not%20exceed%2020.%0AThe%20sum%20of%20elements%20in%20the%20given%20array%20will%20not%20exceed%201000.%0AYour%20output%20answer%20is%20guaranteed%20to%20be%20fitted%20in%20a%2032-bit%20integer.%0A%0A-------%0A%23%23%23%23%20%E8%A7%A3%E6%B3%95%0A%0A%E8%AF%A5%E9%A2%98%E6%98%AF%E5%85%B8%E5%9E%8B%E7%9A%84dfs%E7%AE%97%E6%B3%95%E9%A2%98%E3%80%82%0A%E7%94%A8%E9%80%92%E5%BD%92%E7%9A%84%E6%96%B9%E5%BC%8F%E6%8A%8A%E6%89%80%E6%9C%89%E7%9A%84%E5%8F%AF%E8%83%BD%E6%80%A7%E9%83%BD%E9%81%8D%E5%8E%86%E4%B8%80%E9%81%8D%E3%80%82%0A%E6%9C%80%E9%87%8D%E8%A6%81%E7%9A%84%E5%9C%B0%E6%96%B9%E6%98%AFreturn%E7%9A%84%E5%88%A4%E6%96%AD%E6%A0%87%E5%87%86%EF%BC%8C%0A%E8%BF%99%E9%87%8C%E6%98%AF%E5%BD%93cur%E5%B7%B2%E7%BB%8F%E5%88%B0%E5%A4%B4%EF%BC%8C%E6%81%B0%E5%A5%BDsum%E7%AD%89%E4%BA%8ES%E6%97%B6%E5%8A%A0%E4%B8%80%EF%BC%8C%0A%E6%88%96%E8%80%85cur%E5%B7%B2%E7%BB%8F%E5%88%B0%E5%A4%B4%E4%BA%86%EF%BC%8C%E4%BD%86sum%E4%B8%8D%E7%AD%89%E4%B8%80S%E6%97%B6%E5%8A%A00%E3%80%82%0A%E6%9C%80%E5%90%8E%E6%8A%8A%E6%89%80%E6%9C%89%E7%B4%AF%E5%8A%A0%E5%B0%B1%E6%98%AF%E7%AD%94%E6%A1%88%E3%80%82%0A%0AJava%0A%60%60%60java%0Aclass%20Solution%20%7B%0A%20%20%20%20public%20int%20findTargetSumWays(int%5B%5D%20nums%2C%20int%20S)%20%7B%0A%20%20%20%20%20%20%20%20if(nums.length%3D%3D0)%20return%200%3B%0A%20%20%20%20%20%20%20%20return%20dfs(nums%2C0%2C0%2CS)%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20public%20int%20dfs(int%5B%5D%20nums%2Cint%20cur%2C%20int%20sum%2C%20int%20S)%7B%0A%20%20%20%20%20%20%20%20int%20res%20%3D%200%3B%0A%20%20%20%20%20%20%20%20int%20len%20%3D%20nums.length%3B%0A%20%20%20%20%20%20%20%20if(cur%3D%3Dlen%20%26%26%20sum%3D%3DS)%20return%201%3B%0A%20%20%20%20%20%20%20%20else%20if(cur%3D%3Dlen)%20return%200%3B%0A%20%20%20%20%20%20%20%20res%20%2B%3D%20dfs(nums%2Ccur%2B1%2Csum%2Bnums%5Bcur%5D%2CS)%3B%0A%20%20%20%20%20%20%20%20res%20%2B%3D%20dfs(nums%2Ccur%2B1%2Csum-nums%5Bcur%5D%2CS)%3B%0A%20%20%20%20%20%20%20%20return%20res%3B%0A%20%20%20%20%7D%0A%7D%0A%60%60%60%0A%0AScala%0A%60%60%60scala%0Aobject%20Solution%20%7B%0A%20%20%20%20def%20findTargetSumWays(nums%3A%20Array%5BInt%5D%2C%20S%3A%20Int)%3A%20Int%20%3D%20%7B%0A%20%20%20%20%20%20%20%20if(nums.length%3D%3D0)%20return%200%0A%20%20%20%20%20%20%20%20dfs(nums%2CS%2C0%2C0)%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20def%20dfs(nums%3AArray%5BInt%5D%2CS%3AInt%2Ccur%3AInt%2Csum%3AInt)%3AInt%3D%7B%0A%20%20%20%20%20%20%20%20var%20len%20%3D%20nums.length%0A%20%20%20%20%20%20%20%20var%20res%20%3D%200%0A%20%20%20%20%20%20%20%20if(cur%3D%3Dlen%20%26%26%20sum%3D%3DS)%20return%201%0A%20%20%20%20%20%20%20%20else%20if(cur%3D%3Dlen)%20return%200%0A%20%20%20%20%20%20%20%20res%20%2B%3D%20dfs(nums%2CS%2Ccur%2B1%2Csum%2Bnums(cur))%0A%20%20%20%20%20%20%20%20res%20%2B%3D%20dfs(nums%2CS%2Ccur%2B1%2Csum-nums(cur))%0A%20%20%20%20%20%20%20%20res%0A%20%20%20%20%7D%0A%7D%0A%60%60%60</center></body></html>