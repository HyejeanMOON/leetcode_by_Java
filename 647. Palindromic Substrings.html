<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.0.0 (457591)"/><meta name="altitude" content="36.74729919433594"/><meta name="author" content="MOON"/><meta name="created" content="2019-02-03 08:10:09 +0000"/><meta name="latitude" content="37.26400756835938"/><meta name="longitude" content="126.9964011103644"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2019-02-03 08:11:23 +0000"/><meta name="content-class" content="yinxiang.markdown"/><title>647. Palindromic Substrings</title></head><body><div style="font-size: 14px; margin: 0; padding: 0; width: 100%;"><p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">Medium,<br/>
String, Dynamic Programming.</strong></p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">Given a string, your task is to count how many palindromic substrings in this string.</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">The substrings with different start indexes or end indexes are counted as different substrings even they consist of same characters.</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">Example 1:</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">Input: "abc"
Output: 3
Explanation: Three palindromic strings: "a", "b", "c".
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">Example 2:</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">Input: "aaa"
Output: 6
Explanation: Six palindromic strings: "a", "a", "a", "aa", "aa", "aaa".
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">Note:</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">The input string length won't exceed 1000.
</code></pre>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">解法</h4>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">java</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">class</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">Solution</span> </span>{
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">int</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">countSubstrings</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">(String s)</span> </span>{
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">int</span> len = s.length();
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">int</span> res = <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>;
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">for</span>(<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">int</span> center=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>; center&lt;=len*<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">2</span>-<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>;++center){
            <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">int</span> left = center/<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">2</span>;
            <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">int</span> right = center/<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">2</span>+center%<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">2</span>;
            <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">while</span>(left&gt;=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span> &amp;&amp; right&lt;=len-<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span> &amp;&amp; s.charAt(left)==s.charAt(right)){
                res++;
                left--;
                right++;
            }
        }
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> res;
    }
}
</code></pre>
</div><center style="display:none !important;visibility:collapse !important;height:0 !important;white-space:nowrap;width:100%;overflow:hidden">**Medium%2C%0AString%2C%20Dynamic%20Programming.**%0A%0AGiven%20a%20string%2C%20your%20task%20is%20to%20count%20how%20many%20palindromic%20substrings%20in%20this%20string.%0A%0AThe%20substrings%20with%20different%20start%20indexes%20or%20end%20indexes%20are%20counted%20as%20different%20substrings%20even%20they%20consist%20of%20same%20characters.%0A%0AExample%201%3A%0A%60%60%60%0AInput%3A%20%22abc%22%0AOutput%3A%203%0AExplanation%3A%20Three%20palindromic%20strings%3A%20%22a%22%2C%20%22b%22%2C%20%22c%22.%0A%60%60%60%20%0A%0AExample%202%3A%0A%60%60%60%0AInput%3A%20%22aaa%22%0AOutput%3A%206%0AExplanation%3A%20Six%20palindromic%20strings%3A%20%22a%22%2C%20%22a%22%2C%20%22a%22%2C%20%22aa%22%2C%20%22aa%22%2C%20%22aaa%22.%0A%60%60%60%0A%0ANote%3A%0A%60%60%60%0AThe%20input%20string%20length%20won't%20exceed%201000.%0A%60%60%60%0A%0A%23%23%23%23%20%E8%A7%A3%E6%B3%95%0A%0Ajava%0A%60%60%60java%0Aclass%20Solution%20%7B%0A%20%20%20%20public%20int%20countSubstrings(String%20s)%20%7B%0A%20%20%20%20%20%20%20%20int%20len%20%3D%20s.length()%3B%0A%20%20%20%20%20%20%20%20int%20res%20%3D%200%3B%0A%20%20%20%20%20%20%20%20for(int%20center%3D0%3B%20center%3C%3Dlen*2-1%3B%2B%2Bcenter)%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20int%20left%20%3D%20center%2F2%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20int%20right%20%3D%20center%2F2%2Bcenter%252%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20while(left%3E%3D0%20%26%26%20right%3C%3Dlen-1%20%26%26%20s.charAt(left)%3D%3Ds.charAt(right))%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20res%2B%2B%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20left--%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20right%2B%2B%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20res%3B%0A%20%20%20%20%7D%0A%7D%0A%60%60%60</center></body></html>