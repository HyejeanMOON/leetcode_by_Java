<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.0.0 (457591)"/><meta name="altitude" content="58.23495101928711"/><meta name="author" content="MOON"/><meta name="created" content="2019-01-21 04:15:08 +0000"/><meta name="latitude" content="35.686165480618"/><meta name="longitude" content="139.766865277785"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2019-01-21 06:24:56 +0000"/><meta name="content-class" content="yinxiang.markdown"/><title>121. Best Time to Buy and Sell Stock</title></head><body><div style="font-size: 14px; margin: 0; padding: 0; width: 100%;"><p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">Easy.</strong><br/>
<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">Array, Dynamic programming</strong></p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">Say you have an array for which the ith element is the price of a given stock on day i.</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">If you were only permitted to complete at most one transaction (i.e., buy one and sell one share of the stock), design an algorithm to find the maximum profit.</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">Note that you cannot sell a stock before you buy one.</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">Example 1:</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">Input: [7,1,5,3,6,4]
Output: 5

Explanation: Buy on day 2 (price = 1) and sell on day 5 (price = 6), profit = 6-1 = 5.
             Not 7-1 = 6, as selling price needs to be larger than buying price.
</code></pre>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">Example 2:

Input: [7,6,4,3,1]
Output: 0
Explanation: In this case, no transaction is done, i.e. max profit = 0.
</code></pre>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">方法一</h5>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">用数组便利的方式，用两个数组相减来查找最大的差值。时间复杂度O(n^2)。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">Java</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">class</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">Solution</span> </span>{
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">int</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">maxProfit</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">(<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">int</span>[] prices)</span> </span>{
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">int</span> res=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>;
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">for</span>(<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">int</span> i=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>;i&lt;prices.length-<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>;i++){
            <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">for</span>(<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">int</span> j=i+<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>;j&lt;prices.length;j++){
                res=Math.max(prices[j]-prices[i],res);
            }
        }
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> res;
    }
}
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">方法二：<br/>
更简单的方法，只需要O(n);<br/>
这个方法中，一直在查找买入时的最小值，以及profit的最大值。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">Java</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">class</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">Solution</span> </span>{
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">int</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">maxProfit</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">(<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">int</span>[] prices)</span> </span>{
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">int</span> buy = Integer.MAX_VALUE;
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">int</span> profit = <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>;
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">for</span>(<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">int</span> p:prices){
            buy = Math.min(p,buy);
            profit = Math.max(profit,p-buy);
        }
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> profit;
    }
}
</code></pre>
</div><center style="display:none !important;visibility:collapse !important;height:0 !important;white-space:nowrap;width:100%;overflow:hidden">**Easy.**%0A**Array%2C%20Dynamic%20programming**%0A%0A%0ASay%20you%20have%20an%20array%20for%20which%20the%20ith%20element%20is%20the%20price%20of%20a%20given%20stock%20on%20day%20i.%0A%0AIf%20you%20were%20only%20permitted%20to%20complete%20at%20most%20one%20transaction%20(i.e.%2C%20buy%20one%20and%20sell%20one%20share%20of%20the%20stock)%2C%20design%20an%20algorithm%20to%20find%20the%20maximum%20profit.%0A%0ANote%20that%20you%20cannot%20sell%20a%20stock%20before%20you%20buy%20one.%0A%0AExample%201%3A%0A%60%60%60%0AInput%3A%20%5B7%2C1%2C5%2C3%2C6%2C4%5D%0AOutput%3A%205%0A%0AExplanation%3A%20Buy%20on%20day%202%20(price%20%3D%201)%20and%20sell%20on%20day%205%20(price%20%3D%206)%2C%20profit%20%3D%206-1%20%3D%205.%0A%20%20%20%20%20%20%20%20%20%20%20%20%20Not%207-1%20%3D%206%2C%20as%20selling%20price%20needs%20to%20be%20larger%20than%20buying%20price.%0A%60%60%60%0A%60%60%60%0AExample%202%3A%0A%0AInput%3A%20%5B7%2C6%2C4%2C3%2C1%5D%0AOutput%3A%200%0AExplanation%3A%20In%20this%20case%2C%20no%20transaction%20is%20done%2C%20i.e.%20max%20profit%20%3D%200.%0A%60%60%60%0A%0A%23%23%23%23%23%20%E6%96%B9%E6%B3%95%E4%B8%80%0A%E7%94%A8%E6%95%B0%E7%BB%84%E4%BE%BF%E5%88%A9%E7%9A%84%E6%96%B9%E5%BC%8F%EF%BC%8C%E7%94%A8%E4%B8%A4%E4%B8%AA%E6%95%B0%E7%BB%84%E7%9B%B8%E5%87%8F%E6%9D%A5%E6%9F%A5%E6%89%BE%E6%9C%80%E5%A4%A7%E7%9A%84%E5%B7%AE%E5%80%BC%E3%80%82%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6O(n%5E2)%E3%80%82%0A%0AJava%0A%60%60%60java%0Aclass%20Solution%20%7B%0A%20%20%20%20public%20int%20maxProfit(int%5B%5D%20prices)%20%7B%0A%20%20%20%20%20%20%20%20int%20res%3D0%3B%0A%20%20%20%20%20%20%20%20for(int%20i%3D0%3Bi%3Cprices.length-1%3Bi%2B%2B)%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20for(int%20j%3Di%2B1%3Bj%3Cprices.length%3Bj%2B%2B)%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20res%3DMath.max(prices%5Bj%5D-prices%5Bi%5D%2Cres)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20res%3B%0A%20%20%20%20%7D%0A%7D%0A%60%60%60%0A%0A%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%0A%E6%9B%B4%E7%AE%80%E5%8D%95%E7%9A%84%E6%96%B9%E6%B3%95%EF%BC%8C%E5%8F%AA%E9%9C%80%E8%A6%81O(n)%3B%0A%E8%BF%99%E4%B8%AA%E6%96%B9%E6%B3%95%E4%B8%AD%EF%BC%8C%E4%B8%80%E7%9B%B4%E5%9C%A8%E6%9F%A5%E6%89%BE%E4%B9%B0%E5%85%A5%E6%97%B6%E7%9A%84%E6%9C%80%E5%B0%8F%E5%80%BC%EF%BC%8C%E4%BB%A5%E5%8F%8Aprofit%E7%9A%84%E6%9C%80%E5%A4%A7%E5%80%BC%E3%80%82%0A%0AJava%0A%60%60%60java%0Aclass%20Solution%20%7B%0A%20%20%20%20public%20int%20maxProfit(int%5B%5D%20prices)%20%7B%0A%20%20%20%20%20%20%20%20int%20buy%20%3D%20Integer.MAX_VALUE%3B%0A%20%20%20%20%20%20%20%20int%20profit%20%3D%200%3B%0A%20%20%20%20%20%20%20%20for(int%20p%3Aprices)%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20buy%20%3D%20Math.min(p%2Cbuy)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20profit%20%3D%20Math.max(profit%2Cp-buy)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20profit%3B%0A%20%20%20%20%7D%0A%7D%0A%60%60%60</center></body></html>