<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.0.0 (457591)"/><meta name="altitude" content="23.14010620117188"/><meta name="author" content="MOON"/><meta name="created" content="2019-01-21 06:25:01 +0000"/><meta name="latitude" content="35.64381217986531"/><meta name="longitude" content="139.7446441651918"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2019-01-21 08:12:57 +0000"/><meta name="content-class" content="yinxiang.markdown"/><title>122. Best Time to Buy and Sell Stock II</title></head><body><div style="font-size: 14px; margin: 0; padding: 0; width: 100%;"><p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">Easy.<br/>
Greedy,Array.</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">Say you have an array for which the ith element is the price of a given stock on day i.</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">Design an algorithm to find the maximum profit. You may complete as many transactions as you like (i.e., buy one and sell one share of the stock multiple times).</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">Note: You may not engage in multiple transactions at the same time (i.e., you must sell the stock before you buy again).</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">Example 1:</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">Input: [7,1,5,3,6,4]
Output: 7
Explanation: Buy on day 2 (price = 1) and sell on day 3 (price = 5), profit = 5-1 = 4.
             Then buy on day 4 (price = 3) and sell on day 5 (price = 6), profit = 6-3 = 3.
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">Example 2:</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">Input: [1,2,3,4,5]
Output: 4
Explanation: Buy on day 1 (price = 1) and sell on day 5 (price = 5), profit = 5-1 = 4.
             Note that you cannot buy on day 1, buy on day 2 and sell them later, as you are
             engaging multiple transactions at the same time. You must sell before buying again.
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">Example 3:</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">Input: [7,6,4,3,1]
Output: 0
Explanation: In this case, no transaction is done, i.e. max profit = 0.
</code></pre>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">解法1</h4>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">复杂度为O(n)</strong><br/>
可以使用动态规划来解这道题。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">Java</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">class</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">Solution</span> </span>{
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">int</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">maxProfit</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">(<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">int</span>[] prices)</span> </span>{
        
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">int</span> len = prices.length;
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">if</span>(len&lt;=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>) <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>;
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">int</span>[] dp = <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">new</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">int</span>[len];
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">for</span>(<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">int</span> i=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>; i&lt;len; i++){
            dp[i]=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>;
        }
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">for</span>(<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">int</span> i=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>; i&lt;len; i++){
            <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">if</span>(prices[i]-prices[i-<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>]&gt;<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>) dp[i]=dp[i-<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>]+prices[i]-prices[i-<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>];
            <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">else</span> dp[i]=dp[i-<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>];
        }
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> dp[len-<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>];
    }
}
</code></pre>
</div><center style="display:none !important;visibility:collapse !important;height:0 !important;white-space:nowrap;width:100%;overflow:hidden">**Easy.%0AGreedy%2CArray.**%0A%0ASay%20you%20have%20an%20array%20for%20which%20the%20ith%20element%20is%20the%20price%20of%20a%20given%20stock%20on%20day%20i.%0A%0ADesign%20an%20algorithm%20to%20find%20the%20maximum%20profit.%20You%20may%20complete%20as%20many%20transactions%20as%20you%20like%20(i.e.%2C%20buy%20one%20and%20sell%20one%20share%20of%20the%20stock%20multiple%20times).%0A%0ANote%3A%20You%20may%20not%20engage%20in%20multiple%20transactions%20at%20the%20same%20time%20(i.e.%2C%20you%20must%20sell%20the%20stock%20before%20you%20buy%20again).%0A%0AExample%201%3A%0A%60%60%60%0AInput%3A%20%5B7%2C1%2C5%2C3%2C6%2C4%5D%0AOutput%3A%207%0AExplanation%3A%20Buy%20on%20day%202%20(price%20%3D%201)%20and%20sell%20on%20day%203%20(price%20%3D%205)%2C%20profit%20%3D%205-1%20%3D%204.%0A%20%20%20%20%20%20%20%20%20%20%20%20%20Then%20buy%20on%20day%204%20(price%20%3D%203)%20and%20sell%20on%20day%205%20(price%20%3D%206)%2C%20profit%20%3D%206-3%20%3D%203.%0A%60%60%60%0AExample%202%3A%0A%60%60%60%0AInput%3A%20%5B1%2C2%2C3%2C4%2C5%5D%0AOutput%3A%204%0AExplanation%3A%20Buy%20on%20day%201%20(price%20%3D%201)%20and%20sell%20on%20day%205%20(price%20%3D%205)%2C%20profit%20%3D%205-1%20%3D%204.%0A%20%20%20%20%20%20%20%20%20%20%20%20%20Note%20that%20you%20cannot%20buy%20on%20day%201%2C%20buy%20on%20day%202%20and%20sell%20them%20later%2C%20as%20you%20are%0A%20%20%20%20%20%20%20%20%20%20%20%20%20engaging%20multiple%20transactions%20at%20the%20same%20time.%20You%20must%20sell%20before%20buying%20again.%0A%60%60%60%0AExample%203%3A%0A%60%60%60%0AInput%3A%20%5B7%2C6%2C4%2C3%2C1%5D%0AOutput%3A%200%0AExplanation%3A%20In%20this%20case%2C%20no%20transaction%20is%20done%2C%20i.e.%20max%20profit%20%3D%200.%0A%60%60%60%0A%0A%23%23%23%23%20%E8%A7%A3%E6%B3%951%0A**%E5%A4%8D%E6%9D%82%E5%BA%A6%E4%B8%BAO(n)**%0A%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E6%9D%A5%E8%A7%A3%E8%BF%99%E9%81%93%E9%A2%98%E3%80%82%0A%0A%0AJava%0A%60%60%60java%0Aclass%20Solution%20%7B%0A%20%20%20%20public%20int%20maxProfit(int%5B%5D%20prices)%20%7B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20int%20len%20%3D%20prices.length%3B%0A%20%20%20%20%20%20%20%20if(len%3C%3D1)%20return%200%3B%0A%20%20%20%20%20%20%20%20int%5B%5D%20dp%20%3D%20new%20int%5Blen%5D%3B%0A%20%20%20%20%20%20%20%20for(int%20i%3D0%3B%20i%3Clen%3B%20i%2B%2B)%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20dp%5Bi%5D%3D0%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20for(int%20i%3D1%3B%20i%3Clen%3B%20i%2B%2B)%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if(prices%5Bi%5D-prices%5Bi-1%5D%3E0)%20dp%5Bi%5D%3Ddp%5Bi-1%5D%2Bprices%5Bi%5D-prices%5Bi-1%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20dp%5Bi%5D%3Ddp%5Bi-1%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20dp%5Blen-1%5D%3B%0A%20%20%20%20%7D%0A%7D%0A%60%60%60</center></body></html>